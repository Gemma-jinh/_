<section class="content-header">
    <h1>
    헤더 관리
    <small>head list</small>
    </h1>

    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">메뉴 관리</a></li>
        <li class="active">헤더 관리</li>
    </ol>
</section>

<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <div class="box">
                <div class="box-body">
                    <table class="table table-bordered table-hover">
                    <form name="form_list" method="post" action="?tpf=admin/menu/process">
		            <input type="hidden" name="mode" id="mode">
                    <thead>
                    <tr>
                        <td style="width:30px;"><input type="checkbox" name="select_all" onclick=selectAllCheckBox('form_list'); /></td>
                        <td>헤더명</td>
                        <td style="width:55px;">상태</td>
                        <td style="width:60px;">
                        <i onclick="<?=$onclick_change_down?>" class="fa fa-fw fa-arrow-circle-down cp" style="cursor:pointer"></i>
                        <i onclick="<?=$onclick_change_up?>" class="fa fa-fw fa-arrow-circle-up cp" style="cursor:pointer"></i>
                        </td>
                        <td style="width:60px;">명령</td>
                    </tr>
                    </thead>
<?php
if (!empty($data['list'])) {
    foreach($data['list'] as $key => $val) {
        echo '      <tr>
                        <td><input type="checkbox" name="list[]" value="'.$val['code'].'" /></td>
                        <td>'.$val['title'].'</td>
                        <td><button type="button" class="btn btn-success btn-xs'; if($val['status'] == "y") { echo '">보임';} else { echo ' disabled">숨김';} echo'</button></td>
                        <td><input type="radio" name="order_code" value="'.$val['order_code'].'"'; if($val['order_code'] == $order_code) { echo ' checked';} echo' /></td>
                        <td><button type="button" onclick="onclickUpdate('.$val['code'].');" class="btn btn-primary btn-xs">수정하기</button></td>
                    </tr>';
    }
}
else {
        echo '      <tr><td colspan="10"><br>등록된 자료가 없습니다.<br><br></td></tr>';
}
?>
                    </form>
                    </table>
                    <br>

                    <button type="button" onclick="selectDelete('deleteHead');" class="btn btn-danger btn-sm"><i class="fa fa-minus-square" aria-hidden="true"></i> 선택삭제</button>
                    <button type="button" onclick="onclickInsert();" class="btn btn-primary btn-sm"><i class="fa fa-plus-square"></i> 헤더 등록</button>
<?php
if(getLoginId() == 'admin') {
    echo '          <button type="button" onclick="onclickCopyHeader()" class="btn btn-warning btn-sm"><i class="fa fa-plus-square"></i> 헤더 복사</button>';
}
?>
                    <div style="text-align:right;">
                        <?php echo $data['page'];?>
                    </div>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
        </div><!-- /.col-xs-12 -->
    </div><!-- /.row -->
</section>

<div class="modal fade" id="modalContent" tabindex="-2" role="dialog" aria-labelledby="myModal" aria-hidden="true">
    <div class="modal-dialog" style="width:90%">
        <div class="modal-content">
            <form name="form_register" method="post" onsubmit="return false;" action="?tpf=admin/menu/process">
            <input type="hidden" name="mode" value="insertHead">
            <input type="hidden" name="code">
            <input type="hidden" name="locale" value="<?=$locale?>">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">헤더 등록</h4>
            </div>
            <div class="modal-body">
            <div class="row">
                <div class="col-xs-4">
                <h4><p class="text-light-blue"><i class="fa fa-fw fa-info-circle"></i> 헤더 등록</p></h4>
                </div>

                <div class="col-xs-8">
                <div class="btn-group pull-right">
<?php
foreach($arrLocal as $key => $val) {
    echo '      <button type="button" id="locale_'.$key.'" onclick="setLocale(\''.$key.'\')" class="btn btn-'; if($key == $locale) { echo 'primary';} else { echo 'default';} echo '"><i class="fa fa-globe" aria-hidden="true"></i> '.$val.'</button>';
}
?>
                </div>
                </div>
            </div>

            <table class="table table-bordered">
            <tr>
                <td class="menu">헤더명</td>
                <td align="left"><input type="text" name="title" class="form-control input-sm" /></td>
            </tr>
            <tr>
                <td class="menu">상태</td>
                <td>
                <select name="status" class="form-control input-sm" style="width:100px;">
<?php
foreach($arrDisplayStatus as $key => $val) {
    echo '      <option value="'.$key.'">'.$val.'</option>';
}
?>
                </select>
                </td>
            </tr>
            <tr>
                <td colspan="2" style="text-align:left">
                ※ [menu] : 본 태그를 삽입시 각각의 서브페이지의 메뉴명을 표출 해 줍니다.
                <textarea name="content" id="content-editor" rows="10" cols="80"></textarea>
                </td>
            </tr>
            </table>
            </form>
            </div>

            <div class="modal-footer">
            <button type="button" onclick="register();" class="btn btn-primary">저장하기</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalCopyHeader" tabindex="-2" role="dialog" aria-labelledby="myModal" aria-hidden="true">
    <div class="modal-dialog" style="width:400px;">
        <div class="modal-content">
            <form name="formCopyHeader" method="post" action="?tpf=admin/menu/process">
            <input type="hidden" name="mode" id="mode" value="copyHeader">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabelPortfolio">헤더 복사</h4>
            </div>
            <div class="modal-body">

            <h4><p class="text-light-blue"><i class="fa fa-fw fa-info-circle"></i> 헤더 <span id="board_sub_title">복사</span></p></h4>
            <table class="table table-bordered">
            <tbody>
            <tr>
                <td class="menu">구글 동시 번역</td>
                <td align="left"><input type="checkbox" name="is_translate" value="y"></td>
            </tr>
            <tr>
                <td class="menu">언어 선택</td>
                <td align="left">
                <select name="menu_locale" id="menu_locale" class="form-control input-sm">
                    <option value="">선택</option>
<?php
$defaultLocale = getDefaultLocale();
foreach($arrLocal as $key => $val) {
    if($defaultLocale != $key) {
        echo '      <option value="'.$key.'">'.$val.'</option>';
    }
}
?>
                </select>
                </td>
            </tr>
            </tbody></table>
            </div>

            <div class="modal-footer">
            <button type="button" onclick="registerCopyHeader()" class="btn btn-primary">확인</button>&nbsp;&nbsp;&nbsp;
            </div>
            </form>
        </div>
    </div>
</div>

<script src="//<?=_RESOURCE_URL?>/resource/js/ckeditor4.7.2/ckeditor.js"></script>